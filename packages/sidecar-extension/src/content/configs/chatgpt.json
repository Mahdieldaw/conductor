{
  "providerKey": "chatgpt",
  "hostnames": ["chat.openai.com", "chatgpt.com"],
  "tabActivation": {
    "enabled": true,
    "mode": "background",
    "activateOnBroadcast": false,
    "activateOnHarvest": true,
    "activateOnReadinessCheck": false,
    "stabilizationDelay": 500
  },
  "selectors": {
    "readyMarker": [
      "#prompt-textarea"
    ],
    "loginMarker": [
      "button[data-testid='login-button']"
    ],
    "newChat": [
      "a[href='/']",
      "button[data-testid='new-chat-button']"
    ],
    "input": [
      "#prompt-textarea",
      "textarea[data-id='root']"
    ],
    "sendButton": [
      "button[data-testid='send-button']",
      "button[data-testid='send-message-button']"
    ],
    "responseContainer": [
      "div[data-message-author-role='assistant']:last-of-type .markdown",
      "div[data-message-author-role='assistant']:last-of-type div[class*='prose']",
      "div[data-message-author-role='assistant']:last-of-type div[class*='markdown']",
      "div[data-message-author-role='assistant']:last-of-type",
      "[data-message-author-role='assistant']:last-of-type",
      "div[data-testid*='conversation-turn']:last-of-type [data-message-author-role='assistant']",
      "div[data-testid*='conversation-turn']:last-of-type div:not([data-message-author-role='user'])"
    ],
    "conversationWrapper": [
      "main",
      "div[class*='react-scroll-to-bottom']"
    ],
    "completionMarker": [
      "button[data-testid='copy-turn-action-button']",
      "button[data-testid='copy-button']"
    ],
    "streamingIndicator": [
      ".result-thinking",
      "div[data-message-author-role='assistant']:last-of-type [class*='loading']"
    ]
  },
  "broadcastStrategy": [
    {
      "action": "fill",
      "target": "input",
      "value": "{{prompt}}",
      "timeout": 7000,
      "retry": true
    },
    {
      "action": "wait",
      "ms": 200
    },
    {
      "action": "click",
      "target": "sendButton",
      "timeout": 5000,
      "retry": true
    }
  ],
  "harvestStrategy": {
    "method": "observer",
    "observeTarget": "conversationWrapper",
    "timeout": 30000,
    "maxAttempts": 8,
    "baseDelay": 1000,
    "backoffMultiplier": 1.5,
    "stabilizationDelay": 500,
    "timing": {
      "elementWaitTimeout": 7000,
      "broadcastFillTimeout": 7000,
      "broadcastClickTimeout": 5000,
      "newChatTimeout": 5000,
      "newChatStabilizationDelay": 300,
      "markerCheckAttempts": 25,
      "markerFoundStabilizationDelay": 1700,
      "markerCheckInterval": 200,
      "pollingPhase1Timeout": 25000,
      "observerDebounceDelay": 1500,
      "observerFailsafeTimeout": 30000,
      "scrapeMaxAttempts": 10,
      "scrapeRetryDelay": 500
    }
  },
  "executionStrategy": {
    "flightTimeout": 30000,
    "networkResponseDelay": 1000,
    "domChangeDelay": 2000,
    "harvestTimeout": 10000
  }
}
